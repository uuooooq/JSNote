(this.webpackJsonpnotex=this.webpackJsonpnotex||[]).push([[0],{115:function(e,t,n){e.exports=n(208)},120:function(e,t,n){},121:function(e,t,n){},208:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),l=n(7),r=n.n(l),i=(n(120),n(89)),c=n(90),s=n(109),u=n(112),h=(n(121),n(214)),d=n(212),f=n(211),y=n(210),v=n(213),m=n(111),p=(n(122),v.a.Content),w="http://"+window.location.host,g=w+"/file?imageName=",k=w+"/upload",E=window.localStorage;if(E){E.removeItem("personalStorage");var S=JSON.parse(E.getItem("personalStorageNew"));S||E.setItem("personalStorageNew",JSON.stringify([]))}var D=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state={value:1,myData:[],inputValue:""},a.onChange=function(e){console.log("radio checked1",e.target.value),a.setState({value:e.target.value})},a.onKeyDown=function(e){console.log("you press key "+e.keyCode),83==e.keyCode&&e.ctrlKey&&(window.event.preventDefault(),window.event.cancelBubble=!0,a.onSave(),console.log("you press key keydown "+e.keyCode)),67==e.keyCode&&e.ctrlKey&&(window.event.preventDefault(),window.event.cancelBubble=!0,a.setState({inputValue:""}),console.log("you press key keydown "+e.keyCode)),70==e.keyCode&&e.ctrlKey&&(window.event.preventDefault(),window.event.cancelBubble=!0,a.setState({myData:[]}),a.searchData(),console.log("you press key keydown "+e.keyCode))},a.fileInput=o.a.createRef(),a}return Object(c.a)(n,[{key:"componentWillMount",value:function(){this.fetchData(),document.addEventListener("keydown",this.onKeyDown)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onKeyDown)}},{key:"handleChange",value:function(e){this.setState({inputValue:e.target.value})}},{key:"onSave",value:function(e){this.state.inputValue.length<1||(this.sendToServer(this.state.inputValue),S&&this.setState({inputValue:""}))}},{key:"fetchData",value:function(){var e=this;fetch(w+"/hello?start=0&end=100").then((function(e){if(e.ok)return e.json();throw new Error(e.status)})).then((function(t){e.setState({myData:t}),console.log(t)})).catch((function(t){console.log("error: "+t),e.setState({requestFailed:!0})}))}},{key:"searchData",value:function(){var e=this;fetch(w+"/search?searchWord="+this.state.inputValue).then((function(e){if(e.ok)return e.json();throw new Error(e.status)})).then((function(t){e.setState({myData:t}),console.log(t)})).catch((function(t){console.log("error: "+t),e.setState({requestFailed:!0})}))}},{key:"sendToServer",value:function(e){var t=this,n=w,a=new FormData;a.append("value",e),fetch(n,{method:"post",body:a}).then((function(e){if(e.ok)return e.json();throw new Error(e.status)})).then((function(e){t.setState({myData:e}),console.log(e)})).catch((function(e){console.log("error: "+e)}))}},{key:"createTextDisplay",value:function(e){return"2"==e.type||2==e.type.inputValue?o.a.createElement("div",null,o.a.createElement("img",{height:360,src:g+e.value})):o.a.createElement("div",null,o.a.createElement("pre",null,e.value))}},{key:"onSaveFile",value:function(e){alert("hello world");var t=new FormData,n=this.fileInput.current.files[0];t.append("files[]",n),fetch(k,{method:"POST",body:t}).then((function(e){return e.json()})).then((function(e){console.log(e),alert("\u4e0a\u4f20\u5931\u8d25"+e)}))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement(v.a,null,o.a.createElement(p,null,o.a.createElement(h.a,{offsetTop:0},o.a.createElement("div",{style:{display:"flex",width:"100%",flexDirection:"column"}},o.a.createElement("div",{style:{display:"flex",width:"100%",backgroundColor:"white",flexDirection:"row",justifyContent:"flex-end",alignItems:"baseline"}},o.a.createElement("div",null,o.a.createElement("input",{type:"file",name:"file",ref:this.fileInput}),o.a.createElement("input",{type:"button",value:"\u4e0a\u4f20",onClick:this.onSaveFile.bind(this)})),o.a.createElement(d.a,null,"\u53d6\u6d88(ctrl+c)"),o.a.createElement(d.a,{onClick:this.onSave.bind(this)},"\u4fdd\u5b58(ctrl+s)")),o.a.createElement("div",{style:{display:"flex",width:"100%",backgroundColor:"gray",flexDirection:"row"}},o.a.createElement(m.a,{onChange:this.handleChange.bind(this),placeholder:"\u8bf7\u8f93\u5165\u5185\u5bb9",value:this.state.inputValue,style:{flexGrow:"1"}})))),o.a.createElement("div",{style:{display:"flex",flex:"1",flexDirection:"column",backgroundColor:"white"}},o.a.createElement(f.a,{itemLayout:"horizontal",dataSource:this.state.myData,size:"large",renderItem:function(t){return o.a.createElement("div",{style:{display:"flex",flex:"1",flexDirection:"column",marginRight:200,marginLeft:200}},o.a.createElement("div",{style:{display:"flex",flex:"1",padding:"10px"}},e.createTextDisplay(t)),o.a.createElement(y.a,null))},pagination:{onChange:function(e){console.log(e)},pageSize:30}})))))}}]),n}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(D,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[115,1,2]]]);
//# sourceMappingURL=main.d13e48ea.chunk.js.map